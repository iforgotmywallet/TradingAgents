# Requirements Document

## Introduction

This feature enhances the TradingAgents webapp to display each agent role as a collapsible card that shows detailed reports when completed. Currently, the webapp shows agent progress as simple status indicators, but users want to see the actual analysis reports generated by each agent. The enhancement will transform the progress display into interactive cards that expand to show the full reports from the analysis results directory.

## Requirements

### Requirement 1

**User Story:** As a user analyzing stocks, I want to see each agent role displayed as a collapsible card, so that I can easily identify different teams and their progress status.

#### Acceptance Criteria

1. WHEN the analysis starts THEN the system SHALL display each agent role as a separate card with team groupings
2. WHEN an agent is pending THEN the card SHALL show a collapsed state with pending status
3. WHEN an agent is in progress THEN the card SHALL show a loading indicator on the card header
4. WHEN an agent completes THEN the card SHALL become expandable with a visual indicator

### Requirement 2

**User Story:** As a user reviewing analysis results, I want to click on completed agent cards to expand and view their detailed reports, so that I can understand the specific analysis each agent performed.

#### Acceptance Criteria

1. WHEN an agent completes successfully THEN the card SHALL become clickable and show an expand/collapse toggle
2. WHEN I click on a completed agent card THEN the system SHALL expand the card to show the agent's full report content
3. WHEN I click on an expanded card THEN the system SHALL collapse the card to hide the report content
4. WHEN a card is expanded THEN the system SHALL display the report content in a readable format with proper styling

### Requirement 3

**User Story:** As a user analyzing multiple stocks, I want the system to load real report data from the analysis results, so that I can see the actual analysis content generated by each agent.

#### Acceptance Criteria

1. WHEN an agent completes THEN the system SHALL fetch the corresponding report file from the results directory
2. WHEN displaying report content THEN the system SHALL format markdown content as HTML for proper display
3. WHEN a report file is not found THEN the system SHALL display a fallback message indicating no detailed report is available
4. WHEN loading report content THEN the system SHALL handle errors gracefully and show appropriate error messages

### Requirement 4

**User Story:** As a user monitoring analysis progress, I want to see visual status indicators on each card, so that I can quickly understand the current state of each agent.

#### Acceptance Criteria

1. WHEN an agent is pending THEN the card SHALL display a gray/neutral color scheme with "PENDING" status
2. WHEN an agent is in progress THEN the card SHALL display a blue color scheme with "IN PROGRESS" status and loading animation
3. WHEN an agent completes THEN the card SHALL display a green color scheme with "COMPLETED" status
4. WHEN an agent encounters an error THEN the card SHALL display a red color scheme with "ERROR" status

### Requirement 5

**User Story:** As a user with limited screen space, I want the collapsible cards to be organized by team sections, so that I can efficiently navigate through different analysis phases.

#### Acceptance Criteria

1. WHEN displaying agent cards THEN the system SHALL group cards by team (Analyst Team, Research Team, Trading Team, Risk Management, Portfolio Management)
2. WHEN displaying team sections THEN each section SHALL have a clear header indicating the team name
3. WHEN cards are expanded THEN the system SHALL maintain proper spacing and readability
4. WHEN multiple cards are expanded THEN the system SHALL allow smooth scrolling through all content